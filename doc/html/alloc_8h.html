<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>scratch: src/window/alloc.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">scratch
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c7f79d9fead0a70cab4af348b59fbdf1.html">window</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">alloc.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &quot;<a class="el" href="range_2def_8h_source.html">../range/def.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="window_2def_8h_source.html">../window/def.h</a>&quot;</code><br />
</div>
<p><a href="alloc_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a53072f471ce9bd00788f069aa42c2044"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="alloc_8h.html#a53072f471ce9bd00788f069aa42c2044">window_alloc</a>(window,  count)&#160;&#160;&#160;    _window_alloc ( (<a class="el" href="unionwindow__void.html">window_void</a>*) &amp;(window), sizeof( *(window).alloc.begin ), count )</td></tr>
<tr class="separator:a53072f471ce9bd00788f069aa42c2044"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1483cc8769d7fdbd754af2b7feacbec"><td class="memItemLeft" align="right" valign="top"><a id="ad1483cc8769d7fdbd754af2b7feacbec"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="alloc_8h.html#ad1483cc8769d7fdbd754af2b7feacbec">window_clear</a>(window)&#160;&#160;&#160;    _window_clear ( (<a class="el" href="unionwindow__void.html">window_void</a>*) &amp;(window) )</td></tr>
<tr class="memdesc:ad1483cc8769d7fdbd754af2b7feacbec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the memory allocated to the given window and sets all pointers in the window to NULL. <br /></td></tr>
<tr class="separator:ad1483cc8769d7fdbd754af2b7feacbec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2913f588526671d87ed1e1eb9fd88cb5"><td class="memItemLeft" align="right" valign="top"><a id="a2913f588526671d87ed1e1eb9fd88cb5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="alloc_8h.html#a2913f588526671d87ed1e1eb9fd88cb5">window_push</a>(window)&#160;&#160;&#160;( (window).region.end &lt; (window).alloc.end ? (window).region.end++ : (<a class="el" href="alloc_8h.html#a53072f471ce9bd00788f069aa42c2044">window_alloc</a> (window, (window).alloc.end - (window).alloc.begin + 1), (window).region.end++) )</td></tr>
<tr class="memdesc:a2913f588526671d87ed1e1eb9fd88cb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds an item to the end of the window's region and evaluates to a pointer to the new item. The new item will have the highest index of all the window's items. To initialize the resulting item, one may either store the address given by this macro and set it up later, or dereference the macro invocation. <br /></td></tr>
<tr class="separator:a2913f588526671d87ed1e1eb9fd88cb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5f4b06341018e09e76b1d15dd0329182"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="alloc_8h.html#a5f4b06341018e09e76b1d15dd0329182">window_append_bytes</a> (<a class="el" href="unionwindow__unsigned__char.html">window_unsigned_char</a> *window, const unsigned char *begin, size_t size)</td></tr>
<tr class="memdesc:a5f4b06341018e09e76b1d15dd0329182"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the given bytes to the end of an unsigned char window's region.  <a href="alloc_8h.html#a5f4b06341018e09e76b1d15dd0329182">More...</a><br /></td></tr>
<tr class="separator:a5f4b06341018e09e76b1d15dd0329182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9af5dca501c5822b10f7de8ced487fa7"><td class="memItemLeft" align="right" valign="top"><a id="a9af5dca501c5822b10f7de8ced487fa7"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="alloc_8h.html#a9af5dca501c5822b10f7de8ced487fa7">window_append_bytes_range</a> (<a class="el" href="unionwindow__unsigned__char.html">window_unsigned_char</a> *window, const <a class="el" href="unionrange__const__unsigned__char.html">range_const_unsigned_char</a> *bytes)</td></tr>
<tr class="memdesc:a9af5dca501c5822b10f7de8ced487fa7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Similar to window_append_bytes, but this function uses a range to indicate the bytes to be added. <br /></td></tr>
<tr class="separator:a9af5dca501c5822b10f7de8ced487fa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44fbaad12750fe9647ebfd7140791fb4"><td class="memItemLeft" align="right" valign="top">static unsigned char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="alloc_8h.html#a44fbaad12750fe9647ebfd7140791fb4">window_grow_bytes</a> (<a class="el" href="unionwindow__unsigned__char.html">window_unsigned_char</a> *window, size_t size)</td></tr>
<tr class="memdesc:a44fbaad12750fe9647ebfd7140791fb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resizes the window's region to hold an additional number of bytes at the end, and returns a pointer to the beginning of the new bytes.  <a href="alloc_8h.html#a44fbaad12750fe9647ebfd7140791fb4">More...</a><br /></td></tr>
<tr class="separator:a44fbaad12750fe9647ebfd7140791fb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c6559f509297edcc5d90d9c7e495798"><td class="memItemLeft" align="right" valign="top"><a id="a0c6559f509297edcc5d90d9c7e495798"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="alloc_8h.html#a0c6559f509297edcc5d90d9c7e495798">window_resize_bytes</a> (<a class="el" href="unionwindow__unsigned__char.html">window_unsigned_char</a> *window, size_t size)</td></tr>
<tr class="memdesc:a0c6559f509297edcc5d90d9c7e495798"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resizes the window's region to exactly the given size. <br /></td></tr>
<tr class="separator:a0c6559f509297edcc5d90d9c7e495798"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides basic memory allocation functions for windows described in <a class="el" href="window_2def_8h.html">window/def.h</a> </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a53072f471ce9bd00788f069aa42c2044"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53072f471ce9bd00788f069aa42c2044">&#9670;&nbsp;</a></span>window_alloc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define window_alloc</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">window, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">count&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;    _window_alloc ( (<a class="el" href="unionwindow__void.html">window_void</a>*) &amp;(window), sizeof( *(window).alloc.begin ), count )</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocates at least the given number of indices in the window </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">window</td><td>The target window </td></tr>
    <tr><td class="paramname">count</td><td>The number of indices to allocate </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a5f4b06341018e09e76b1d15dd0329182"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f4b06341018e09e76b1d15dd0329182">&#9670;&nbsp;</a></span>window_append_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void window_append_bytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unionwindow__unsigned__char.html">window_unsigned_char</a> *&#160;</td>
          <td class="paramname"><em>window</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds the given bytes to the end of an unsigned char window's region. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">window</td><td>The target window </td></tr>
    <tr><td class="paramname">begin</td><td>A pointer to the bytes to be added </td></tr>
    <tr><td class="paramname">size</td><td>The number of bytes to be added </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a44fbaad12750fe9647ebfd7140791fb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44fbaad12750fe9647ebfd7140791fb4">&#9670;&nbsp;</a></span>window_grow_bytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned char* window_grow_bytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="unionwindow__unsigned__char.html">window_unsigned_char</a> *&#160;</td>
          <td class="paramname"><em>window</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resizes the window's region to hold an additional number of bytes at the end, and returns a pointer to the beginning of the new bytes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">window</td><td>The target window </td></tr>
    <tr><td class="paramname">size</td><td>The number of bytes to added </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the new bytes </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
